<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Software Solutions by Saflec Systems</title>

  <!-- Favicon -->
  <link rel="icon" href="SaflecTabIcon.png" type="image/x-icon" />
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Inter Font --> 
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="SaflecSystemsLogo.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="SaflecSystemsLogo.png" />

  <style>
body {
  font-family: 'Inter', sans-serif;
}

.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-strong {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.album-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
}

#basket-btn {
  position: fixed;
  bottom: 1.5rem;
  left: 1.5rem;
  background: rgba(255 255 255 / 0.15);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255 255 255 / 0.3);
  color: white;
  border-radius: 9999px;
  padding: 0.5rem 0.75rem;
  font-size: 1rem;
  cursor: pointer;
  z-index: 9999;
  min-width: 44px;
  min-height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  user-select: none;
}

/* Remove spinner arrows for quantity inputs in cart */
#cart-items input[type=number]::-webkit-inner-spin-button,
#cart-items input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

#cart-items input[type=number] {
  -moz-appearance: textfield;
  width: 4rem;
  text-align: center;
  background-color: rgba(255 255 255 / 0.1);
  border: 1px solid rgba(255 255 255 / 0.3);
  border-radius: 0.375rem;
  color: white;
  font-weight: 600;
  font-size: 1rem;
  padding: 0.25rem 0.5rem;
}

#cart-items li {
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: white;
  font-weight: 600;
  gap: 0.5rem;
}

#cart-items li .left-side {
  flex-grow: 1;
  word-break: break-word;
}

.quantity-remove-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.remove-item {
  color: #f87171;
  font-weight: 700;
  font-size: 1.25rem;
  cursor: pointer;
  background: transparent;
  border: none;
  padding: 0;
  line-height: 1;
}

/* Sticky header */
nav.glass-strong {
  position: sticky;
  top: 0;
  z-index: 1000;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(15px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

/* Cart modal */
#cart-modal {
  position: fixed;
  top: 89px; /* Space for the sticky header */
  right: 0;
  height: calc(100% - 89px); /* Adjust height */
  width: 387px;
  max-width: 80vw;
  transform: translateX(100%);
  transition: transform 0.3s ease-in-out;
  box-shadow: -2px 0 10px rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: column;
  z-index: 50;
  border-left: 1px solid rgba(255 255 255 / 0.2);
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(15px);
  border-radius: 0 0 0 12px;
}

#cart-modal.open {
  transform: translateX(0);
}

#cart-modal .header-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1rem;
  border-bottom: 1px solid rgba(255 255 255 / 0.2);
}

#cart-modal .header-bar h2 {
  font-size: 1.25rem;
  font-weight: 700;
  margin: 0;
}

#cart-close-btn {
  background: transparent;
  border: none;
  color: white;
  cursor: pointer;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: color 0.2s ease;
}

#cart-close-btn:hover {
  color: #f87171;
}

button,
a {
  transition: none !important;
}

button:hover,
a:hover {
  background-color: unset !important;
  color: inherit !important;
}

.btn-no-hover {
  cursor: pointer;
}

.variant-selector {
  margin-top: 1rem;
  display: flex;
  gap: 0.5rem;
  justify-content: center;
}

.variant-btn {
  flex: 1;
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  border: 1px solid rgba(255 255 255 / 0.5);
  background: rgba(255 255 255 / 0.1);
  color: white;
  font-weight: 600;
  cursor: pointer;
  user-select: none;
  text-align: center;
}

.variant-btn.selected {
  background: rgba(255 255 255 / 0.3);
  border-color: white;
}

.product-image {
  width: 100%;
  aspect-ratio: 1/1;
  object-fit: contain;
  border-radius: 1rem;
  margin-bottom: 1rem;
  background: rgba(255 255 255 / 0.1);
  padding: 0.5rem;
}

/* Mobile menu links full width and better tap targets */
#mobile-menu a {
  display: block;
  padding: 0.75rem 0;
}

@media (max-width: 768px) {
  /* Update cart modal on mobile */
  #cart-modal {
    width: 100vw;
    max-width: 100vw;
    border-radius: 0;
  }

  #basket-btn {
    min-width: 44px;
    min-height: 44px;
    font-size: 1rem;
    padding: 0.5rem;
  }

  /* Align mobile menu links to the center */
  #mobile-menu a {
    text-align: center;
  }
}
  </style>
  
</head>
<body class="bg-gradient-to-bl from-[#2C6E91] via-[#4BA3C7] to-[#B2E0F6] min-h-screen text-white">

<!-- Navigation Bar -->
<nav class="glass-strong" role="navigation" aria-label="Main Navigation">
  <div class="container mx-auto flex justify-between items-center px-4 py-4">
    <a href="#top" aria-label="Saflec Systems Home" class="flex-shrink-0">
      <img src="SaflecHeaderLogo.png" alt="Saflec Systems Logo" class="h-12 sm:h-14" />
    </a>

    <!-- Desktop Menu -->
    <div class="hidden md:flex items-center space-x-6 text-sm lg:text-base relative">
      <a href="index.html#top" class="text-white font-semibold hover:text-black">Home</a>
	  <a href="saflec-systems" class="text-white font-semibold hover:text-black">Saflec Systems</a>
	  <a href="hikvision" class="text-white font-semibold hover:text-black">Hikvision</a>
	  <a href="idemia" class="text-white font-semibold hover:text-black">Idemia</a>
	  <a href="stid" class="text-white font-semibold hover:text-black">STid</a>
	  <a href="suprema" class="text-white font-semibold hover:text-black">Suprema</a>
	  <a href="virdi" class="text-white font-semibold hover:text-black">Virdi</a>
    </div>

    <!-- Hamburger Button for Mobile -->
    <button
      id="nav-toggle"
      class="md:hidden text-white focus:outline-none"
      aria-label="Toggle mobile menu"
      aria-expanded="false"
      aria-controls="mobile-menu"
      type="button"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="hidden md:hidden px-4 pb-4 space-y-2 glass rounded-xl"
    aria-label="Mobile navigation menu"
    role="menu"
  >
    <a href="index.html#top" class="block py-3 text-black font-semibold hover:text-white" role="menuitem">Home</a>
	<a href="saflec-systems" class="block py-3 text-black font-semibold hover:text-white" role="menuitem">Saflec Systems</a>
	<a href="hikvision" class="block py-3 text-black font-semibold hover:text-white" role="menuitem">Hikvision</a>
	<a href="idemia" class="block py-3 text-black font-semibold hover:text-white" role="menuitem">Idemia</a>
	<a href="stid" class="block py-3 text-black font-semibold hover:text-white" role="menuitem">STid</a>
	<a href="suprema" class="block py-3 text-black font-semibold hover:text-white" role="menuitem">Suprema</a>
	<a href="virdi" class="block py-3 text-black font-semibold hover:text-white" role="menuitem">Virdi</a>
  </div>
</nav>

<main class="mx-auto p-4 md:p-6 space-y-8" style="max-width: 90rem;">
  <!-- Entrust Section -->
  <section id="entrust" class="mt-8">
    <div class="pt-2 pb-6 md:pt-4 md:pb-8 text-center text-white">
      <h2 class="text-3xl sm:text-5xl font-extrabold mb-6 tracking-tight relative inline-block text-black" data-aos="fade-up">
        Entrust
      </h2>
      <p class="text-base sm:text-lg text-white max-w-2xl mx-auto">Entrust</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mt-8 items-stretch">
      <div class="album-card glass rounded-2xl p-6 text-white h-full flex flex-col">
        <img src="https://via.placeholder.com/400" alt="Entrust 1" class="product-image rounded-lg object-cover aspect-square" loading="lazy" />
        <div class="flex-1 flex flex-col justify-between">
          <div>
            <h3 class="product-title text-lg md:text-xl font-bold mb-2">Entrust 1</h3>
            <p class="product-desc text-white/80 text-sm md:text-base mb-3">High-quality card printing with Entrust 1.</p>
          </div>
          <div class="mt-4 flex gap-3 items-center">
            <button class="flex-1 bg-[#4BA3C7] text-white font-semibold py-3 rounded-md btn-no-hover text-base add-to-quote-btn" data-product="Entrust 1" aria-label="Add Entrust 1 to Quote">Add to Quote</button>
            <a href="sacs-client.pdf" target="_blank" title="Learn More about Entrust 1" aria-label="Learn More about Entrust 1" class="learn-more-btn flex items-center justify-center sm:w-12 w-12 border border-white/40 text-white rounded-md btn-no-hover py-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Evolis Section -->
  <section id="evolis" class="mt-8">
    <div class="pt-2 pb-6 md:pt-4 md:pb-8 text-center text-white">
      <h2 class="text-3xl sm:text-5xl font-extrabold mb-6 tracking-tight relative inline-block text-black" data-aos="fade-up">Evolis</h2>
      <p class="text-base sm:text-lg text-white max-w-2xl mx-auto">Evolis</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mt-8 items-stretch">
      <div class="album-card glass rounded-2xl p-6 text-white h-full flex flex-col">
        <img src="https://via.placeholder.com/400" alt="Evolis 1" class="product-image rounded-lg object-cover aspect-square" loading="lazy" />
        <div class="flex-1 flex flex-col justify-between">
          <div>
            <h3 class="product-title text-lg md:text-xl font-bold mb-2">Evolis 1</h3>
            <p class="product-desc text-white/80 text-sm md:text-base mb-3">Durable and vibrant prints from Evolis 1.</p>
          </div>
          <div class="mt-4 flex gap-3 items-center">
            <button class="flex-1 bg-[#4BA3C7] text-white font-semibold py-3 rounded-md btn-no-hover text-base add-to-quote-btn" data-product="Evolis 1" aria-label="Add Evolis 1 to Quote">Add to Quote</button>
            <a href="sacs-client.pdf" target="_blank" title="Learn More about Evolis 1" aria-label="Learn More about Evolis 1" class="learn-more-btn flex items-center justify-center sm:w-12 w-12 border border-white/40 text-white rounded-md btn-no-hover py-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Fargo Section -->
  <section id="fargo" class="mt-8">
    <div class="pt-2 pb-6 md:pt-4 md:pb-8 text-center text-white">
      <h2 class="text-3xl sm:text-5xl font-extrabold mb-6 tracking-tight relative inline-block text-black" data-aos="fade-up">Fargo</h2>
      <p class="text-base sm:text-lg text-white max-w-2xl mx-auto">Fargo</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mt-8 items-stretch">
      <div class="album-card glass rounded-2xl p-6 text-white h-full flex flex-col">
        <img src="https://via.placeholder.com/400" alt="Fargo 1" class="product-image rounded-lg object-cover aspect-square" loading="lazy" />
        <div class="flex-1 flex flex-col justify-between">
          <div>
            <h3 class="product-title text-lg md:text-xl font-bold mb-2">Fargo 1</h3>
            <p class="product-desc text-white/80 text-sm md:text-base mb-3">Secure and reliable Fargo 1 printer.</p>
          </div>
          <div class="mt-4 flex gap-3 items-center">
            <button class="flex-1 bg-[#4BA3C7] text-white font-semibold py-3 rounded-md btn-no-hover text-base add-to-quote-btn" data-product="Fargo 1" aria-label="Add Fargo 1 to Quote">Add to Quote</button>
            <a href="sacs-client.pdf" target="_blank" title="Learn More about Fargo 1" aria-label="Learn More about Fargo 1" class="learn-more-btn flex items-center justify-center sm:w-12 w-12 border border-white/40 text-white rounded-md btn-no-hover py-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Magicard Section -->
  <section id="magicard" class="mt-8">
    <div class="pt-2 pb-6 md:pt-4 md:pb-8 text-center text-white">
      <h2 class="text-3xl sm:text-5xl font-extrabold mb-6 tracking-tight relative inline-block text-black" data-aos="fade-up">Magicard</h2>
      <p class="text-base sm:text-lg text-white max-w-2xl mx-auto">Magicard</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mt-8 items-stretch">
      <div class="album-card glass rounded-2xl p-6 text-white h-full flex flex-col">
        <img src="https://via.placeholder.com/400" alt="Magicard 1" class="product-image rounded-lg object-cover aspect-square" loading="lazy" />
        <div class="flex-1 flex flex-col justify-between">
          <div>
            <h3 class="product-title text-lg md:text-xl font-bold mb-2">Magicard 1</h3>
            <p class="product-desc text-white/80 text-sm md:text-base mb-3">Advanced printing with Magicard 1.</p>
          </div>
          <div class="mt-4 flex gap-3 items-center">
            <button class="flex-1 bg-[#4BA3C7] text-white font-semibold py-3 rounded-md btn-no-hover text-base add-to-quote-btn" data-product="Magicard 1" aria-label="Add Magicard 1 to Quote">Add to Quote</button>
            <a href="sacs-client.pdf" target="_blank" title="Learn More about Magicard 1" aria-label="Learn More about Magicard 1" class="learn-more-btn flex items-center justify-center sm:w-12 w-12 border border-white/40 text-white rounded-md btn-no-hover py-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Swiftpro Section -->
  <section id="swiftpro" class="mt-8">
    <div class="pt-2 pb-6 md:pt-4 md:pb-8 text-center text-white">
      <h2 class="text-3xl sm:text-5xl font-extrabold mb-6 tracking-tight relative inline-block text-black" data-aos="fade-up">Swiftpro</h2>
      <p class="text-base sm:text-lg text-white max-w-2xl mx-auto">Swiftpro</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mt-8 items-stretch">
      <div class="album-card glass rounded-2xl p-6 text-white h-full flex flex-col">
        <img src="https://via.placeholder.com/400" alt="Swiftpro 1" class="product-image rounded-lg object-cover aspect-square" loading="lazy" />
        <div class="flex-1 flex flex-col justify-between">
          <div>
            <h3 class="product-title text-lg md:text-xl font-bold mb-2">Swiftpro 1</h3>
            <p class="product-desc text-white/80 text-sm md:text-base mb-3">Swift and secure printing with Swiftpro 1.</p>
          </div>
          <div class="mt-4 flex gap-3 items-center">
            <button class="flex-1 bg-[#4BA3C7] text-white font-semibold py-3 rounded-md btn-no-hover text-base add-to-quote-btn" data-product="Swiftpro 1" aria-label="Add Swiftpro 1 to Quote">Add to Quote</button>
            <a href="sacs-client.pdf" target="_blank" title="Learn More about Swiftpro 1" aria-label="Learn More about Swiftpro 1" class="learn-more-btn flex items-center justify-center sm:w-12 w-12 border border-white/40 text-white rounded-md btn-no-hover py-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Zebra Section -->
  <section id="zebra" class="mt-8">
    <div class="pt-2 pb-6 md:pt-4 md:pb-8 text-center text-white">
      <h2 class="text-3xl sm:text-5xl font-extrabold mb-6 tracking-tight relative inline-block text-black" data-aos="fade-up">Zebra</h2>
      <p class="text-base sm:text-lg text-white max-w-2xl mx-auto">Zebra</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8 mt-8 items-stretch">
      <div class="album-card glass rounded-2xl p-6 text-white h-full flex flex-col">
        <img src="https://via.placeholder.com/400" alt="Zebra 1" class="product-image rounded-lg object-cover aspect-square" loading="lazy" />
        <div class="flex-1 flex flex-col justify-between">
          <div>
            <h3 class="product-title text-lg md:text-xl font-bold mb-2">Zebra 1</h3>
            <p class="product-desc text-white/80 text-sm md:text-base mb-3">Zebra 1 – robust and fast ID printing.</p>
          </div>
          <div class="mt-4 flex gap-3 items-center">
            <button class="flex-1 bg-[#4BA3C7] text-white font-semibold py-3 rounded-md btn-no-hover text-base add-to-quote-btn" data-product="Zebra 1" aria-label="Add Zebra 1 to Quote">Add to Quote</button>
            <a href="sacs-client.pdf" target="_blank" title="Learn More about Zebra 1" aria-label="Learn More about Zebra 1" class="learn-more-btn flex items-center justify-center sm:w-12 w-12 border border-white/40 text-white rounded-md btn-no-hover py-3">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<footer class="w-full py-4 text-center text-sm text-black">
  <div>© 2025 Saflec Systems. All rights reserved.</div>
</footer>

<!-- Back to Top Button -->
<button id="backToTop" aria-label="Back to Top"
  class="fixed bottom-6 right-6 z-50 hidden p-3 rounded-full bg-white/10 border border-white/20 text-white backdrop-blur-md shadow-xl hover:scale-110 transition duration-300"
  onclick="scrollToTop()">
  <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
  </svg>
</button>

<!-- Add this just before closing </body> -->
<script>
  window.addEventListener("scroll", function () {
    const backToTop = document.getElementById("backToTop");
    if (window.scrollY > 300) {
      backToTop.classList.remove("hidden");
    } else {
      backToTop.classList.add("hidden");
    }
  });

  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: "smooth" });
  }
</script>

<!-- Quote Panel -->
<div id="cart-modal" class="glass-strong text-white shadow-xl flex flex-col z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="quote-panel-title">
  <div class="header-bar">
    <h2 id="quote-panel-title">Quote Basket</h2>
    <button id="cart-close-btn" aria-label="Close quote panel" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>
  <div class="flex-1 overflow-y-auto p-4" tabindex="0">
    <ul id="cart-items" class="space-y-2 text-white"></ul>
  </div>
  <div class="p-4 border-t border-white/20">
    <button id="cart-clear-btn" class="w-full glass border border-white/20 text-white font-semibold py-3 rounded-xl text-sm mt-2">
      Clear Cart
    </button>
    <button id="cart-checkout-btn" class="w-full glass border border-white/20 text-white font-semibold py-3 rounded-xl text-sm mt-3">
      Checkout & Email Quote
    </button>
    <div class="mt-4 p-4 rounded-xl glass border border-white/20 text-white text-sm text-center">
      <p class="mb-2">
        Please add your <strong>name</strong> and <strong>company name</strong> in the email. We will send you an official quote shortly.
      </p>
      <p class="mb-2">
        If not a Saflec Systems Client, please also fill out the <a href="/index.html#resources" class="font-semibold text-black hover:text-white transition">Dealer Form</a> so we can send you a quote
      </p>
    </div>
  </div>
</div>

<button id="basket-btn" aria-label="Toggle quote basket" title="Quote Basket">
  <span class="font-semibold">Quote</span>
</button>

<script>
  // ------------------------
  // 🌐 Mobile menu toggle
  // ------------------------
  const navToggle = document.getElementById('nav-toggle');
  const mobileMenu = document.getElementById('mobile-menu');

  navToggle.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });

  mobileMenu.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu.classList.add('hidden');
    });
  });

  document.addEventListener('click', (e) => {
    if (!mobileMenu.classList.contains('hidden')) {
      const clickedInsideNav = e.target.closest('nav');
      const clickedInsideMenu = e.target.closest('#mobile-menu');
      if (!clickedInsideNav && !clickedInsideMenu) {
        mobileMenu.classList.add('hidden');
      }
    }
  });

  // ------------------------
  // 🛒 Quote basket logic with persistence and cross-tab sync
  // ------------------------

  const TAB_KEY = "shared"; // You can change this key if you want separate baskets
  const STORAGE_KEY = `quote_basket_${TAB_KEY}`;

  const basketBtn = document.getElementById('basket-btn');
  const cartModal = document.getElementById('cart-modal');
  const cartCloseBtn = document.getElementById('cart-close-btn');
  const cartItemsList = document.getElementById('cart-items');
  const cartClearBtn = document.getElementById('cart-clear-btn');
  const cartCheckoutBtn = document.getElementById('cart-checkout-btn');

  // Load saved cart or start empty
  let cartItems = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

  function saveCart() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(cartItems));
  }

  function renderCart() {
    cartItemsList.innerHTML = '';
    if (cartItems.length === 0) {
      cartItemsList.innerHTML = '<li>Your quote basket is empty.</li>';
      return;
    }

    cartItems.forEach((item, index) => {
      const li = document.createElement('li');
      li.innerHTML = `
        <div class="left-side">${item.name}</div>
        <div class="quantity-remove-container">
          <input type="number" min="1" value="${item.qty}" data-index="${index}" />
          <button class="remove-item" aria-label="Remove ${item.name}" data-index="${index}">&times;</button>
        </div>
      `;
      cartItemsList.appendChild(li);
    });

    // Quantity update
    cartItemsList.querySelectorAll('input[type="number"]').forEach(input => {
      input.addEventListener('change', (e) => {
        const idx = e.target.dataset.index;
        let val = parseInt(e.target.value, 10);
        if (isNaN(val) || val < 1) val = 1;
        cartItems[idx].qty = val;
        saveCart();
        renderCart();
      });
    });

    // Remove item
    cartItemsList.querySelectorAll('.remove-item').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const idx = e.target.dataset.index;
        cartItems.splice(idx, 1);
        saveCart();
        renderCart();
      });
    });

    saveCart();
  }

  document.querySelectorAll('.add-to-quote-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const productName = btn.dataset.product;
      const existingIndex = cartItems.findIndex(item => item.name === productName);
      if (existingIndex >= 0) {
        cartItems[existingIndex].qty++;
      } else {
        cartItems.push({ name: productName, qty: 1 });
      }
      saveCart();
      renderCart();
    });
  });

  basketBtn?.addEventListener('click', () => {
    cartModal.classList.toggle('open');
  });

  cartCloseBtn?.addEventListener('click', () => {
    cartModal.classList.remove('open');
  });

  cartClearBtn?.addEventListener('click', () => {
    cartItems = [];
    saveCart();
    renderCart();
  });

  cartCheckoutBtn?.addEventListener('click', () => {
    if (cartItems.length === 0) {
      alert('Your quote basket is empty.');
      return;
    }

    let emailBody = 'Hello,%0D%0A%0D%0AI would like a quote for the following items:%0D%0A';

    cartItems.forEach(item => {
      emailBody += `- ${item.name} (Quantity: ${item.qty})%0D%0A`;
    });

    emailBody += '%0D%0AThank you.';

    // Clear cart before opening mail client
    cartItems = [];
    saveCart();
    renderCart();

    window.location.href = `mailto:sales@saflecsystems.co.za?subject=Website Quote&body=${emailBody}`;
  });

  // Sync cart between tabs in real-time
  window.addEventListener('storage', (event) => {
    if (event.key === STORAGE_KEY) {
      cartItems = JSON.parse(event.newValue) || [];
      renderCart();
    }
  });

  // 🚀 On page load
  renderCart();
</script>

</body>
</html>
